# Texture Loader
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624862674215-6be49129-a954-48bc-ab30-e081cd0a5f4c.png" alt="Snipaste_2021-06-28_14-44-25.png" style="width:35%;" />

纹理加载器能够同时加载图像和DDS（DirectDraw Surface）纹理。
> 使用DDS文件的主要优点是它们与显卡内部用来存储纹理的文件非常相似，因此加载性能比图像文件更好，甚至可以在Ventuz之外将使用过的图像转换为DDS以提高加载时间。

- **ASync **启用异步加载，这样当Node需要加载纹理时，渲染器就不会停滞。当你想在Runtime期间改变文件路径时，这一点特别有用。
- **GenMipMaps **在加载时调整图像/纹理的大小并创建Mipmaps。
> 请注意，GenMipMaps属性只影响标准图像类型的加载，如PNG和JPG。当加载像DDS和VZT这样的图像类型时，它将不会被考虑在内。DDS和VZT图像已经包含了mipmaps，这些mipmaps会按规定使用，忽略了纹理加载器节点中的设置。

- **Hint**下拉菜单中的Gamma部分有以下选项。

<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624760721843-53392548-7cdc-4ad0-bc60-d720d1e72512.png" alt="Snipaste_2021-06-27_10-25-07.png" style="width:25%;" />

| **Gamma** |  |
| :---: | --- |
| **Not a Color** | 主要用于Roughness和Specular材料阶段，因为纹理的使用不需要任何Gamma转换，这些纹理通常是灰度的。使用这个选项加载的纹理将不会被触及或在内部转换为任何其他色彩空间，这在使用HDR-Render模式时非常重要。 |
| **sRGB** | 定义了在sRGB色彩空间中使用纹理，这是图像、视频和大多数纹理的标准。 |
| **Gamma2_2** | 以Gamma2.2加载纹理，这在HDR中使用立方体地图/环境地图时最需要。 |
| **Linear** | 以Gamma 1.0加载纹理。 |
| **Normal Map** | 使用一个特殊的内部程序来混合不同MipMap阶段之间的颜色，以产生正常化的Normal Vectors。这使得有可能获得清脆和正确的MipMaps。 |
| **Alpha** |  |
| **Premultiply by File** | 默认属性，检测是否需要预乘法 |
| **Preserve（保存）** | 将永远不会进行预乘 |
| **Always** | 会强制进行预乘 |

**ResizeWidth**和**ResizeHeight**可以用来影响图像的大小。--------**这个属性在Texture Loader Node中**
> 如果调整大小的属性被设置为自动，那么纹理就会被调整到最接近的2次方大小，如果这是显卡的要求。

## 1D Gradient
一维渐变生成一个线性渐变。它可以用梯度输入进行编辑--点击属性左边的向下箭头将打开梯度编辑器。垂直标志可以改变生成的一维梯度的排列。你也可以使用字符串节点从梯度属性中复制和粘贴梯度，只需绑定
## SVG File & SVG Text
SVG加载器和SVG文本属性组对一个SVG文件进行光栅化处理，并提供光栅化的图形。
SVG加载器节点能够根据SVG文件或XML文本在相应的维度上创建一个纹理。可以通过SVG文件或SVG文本属性组选项来改变来源。
##### 使用方法
宽度和高度定义SVG文件应该被光栅化的尺寸。如果设置为零，它将使用SVG文件中给出的尺寸。
为了避免误解：SVG不是作为一个几何或矢量对象来处理的，而是被渲染成一个纹理，因此不受分辨率的影响。
一旦加载完毕，SVG加载器节点将触发加载事件。如果SVG Loader不能加载文件，它将触发失败事件。
除了允许直接加载SVG文件的SVG Loader之外，你还可以使用SVG Text来从XML文本创建SVG。
请注意，SVG文件是一种具有特定结构的XML文件，因此在SVG文本节点中使用之前，可以用XML文件节点加载和修改。
##### 限制条件

- Ventuz SVG节点有一些限制。
- SVG文本需要仔细测试，因为它有很多限制和不准确之处。
- SVG节点使用GDI来渲染文本
- 只有安装在系统上的字体才能被使用
- 对齐和像素间距的工作方式不准确
- 嵌入图像可以工作，但不是所有的合成功能和混合模式都支持。不推荐在线参考。
- CSS必须嵌入到SVG文档中才能工作，而且不是所有的功能都能工作。
- 不支持动画、互动、滤镜、效果、剪裁和遮罩。
## Flipbook Loader翻页书加载器
Flipbook Loader能够从给定的源文件生成一个纹理阵列。这可以是一个Movie file，也可以是一个 Image Sequence（序列）。为了获得最佳效果和性能，请考虑以下几点。

1. 电影文件会被完全加载到GPU内存中，而不是像电影剪辑节点那样只加载需要的部分。所以一定要使用小的电影文件。还要记住，压缩并不改变GPU上的大小，因为它将在之前被解码。
1. 电影文件不应该使用有损压缩，以确保每一帧看起来都很好，可以单独使用。例如，Quicktime文件的苹果动画编解码器可以用于此。
1. 一个图像序列可以通过选择该序列中的一个图像来加载。它们必须有相同的名称，在名称的后面有一个索引。例如，PictureXXX.png，XXX是该图像的索引。
1. 给定序列中的图像需要有相同的尺寸。否则，GPU无法创建一个给定源文件的纹理阵列。
## Strip Loader带状加载器
与Flipbook Loader类似，Strip Loader将创建一个纹理阵列。这个纹理加载器将一个单一的图像分割成大小均匀的纹理。你可以用CountX和Y属性定义纹理的数量，用Reduce属性在最后删除单个槽。帧是逐行读取的，所以第一帧在左上角的槽里，第二帧在它右边的槽里。
> 它的使用与材料节点的2D条带映射器类似。不同的是，条带加载器可以被粒子系统用来为每个粒子使用图像的不同部分。

# Sampler采样器
## Simple模式
简单取样器允许你访问你在日常工作中需要的模式，而不需要进入更复杂的参数和高级模式。预设是**Simple Clamp**和**Simple Warp**。
类型显示当前选择的过滤和映射的过滤选项（见下图）。通过点击箭头，会出现一个下拉菜单，显示Filter（过滤器）和Mapping（映射）的所有选项。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624762206952-7f3e47a7-f636-403b-8c19-df223d3171aa.png" alt="Snipaste_2021-06-27_10-49-42.png" style="width:25%;" />
当二维图像被映射到三维物体上并在三维空间中移动时，它们不再会逐个像素地匹配。因此，引擎需要定义如何对像素进行插值和计算。可用的过滤器有

- _**Point Filter**_。这是Ventuz中使用的最简单的过滤技术，具有最好的性能，但质量可能不理想。这种技术不会在纹理上的可用像素之间进行插值。所以当你在像素之间取样时，它将只使用最近的像素的信息。
- _**Bi-Linear Filter**_。是一种纹理过滤方法，当显示的纹理比实际的大或小时，用于平滑纹理。双线性滤波是相当准确的，直到纹理的比例低于一半或高于纹理的原始尺寸的两倍。一般来说，mipmapping用于提供纹理的缩减版本，以获得更好的性能；但是，使用双线性过滤的纹理上两个不同大小的mipmaps之间的过渡可能非常突然。
- _**Tri-Linear Filter**_。是Bi-Linear Filter的延伸，它也在mipmaps之间进行线性插值，使mipmap的过渡始终平滑。
- _**Anisotropic Filter**_。这是Ventuz中计算最密集、质量最高的滤镜。它消除了锯齿效应，但通过减少模糊和保留极端视角下的细节来改进其他技术。
- **_Point Filter_,No MipMaps**。这结合了纹理的基本点过滤，不使用mipmaps来精简性能。

你可以定义当图像没有填满它需要填满的区域的边界时会发生什么。例如，它是重复的，还是简单地作为一个贴花应用。这些选项与下面设置的贴图参数相互作用，因此，例如，你必须缩小或重新定位你的纹理，以查看它的贴图情况。

- _**Black Border/Whte Border/Transparent Border**_。这三个设置几乎是不言自明的预设
- _**Wrap**_。以瓦片状的方式重复纹理。
- _**Clamp**_。简单地在每条边上重复边缘像素值。
- _**Wrap U, Clamp V**_: 上述两种方式的混合，在U轴上贴瓷砖，在V轴上夹住（没有瓷砖）。
- _**Clamp U, Wrap V**_: 上述两种的混合，U轴上的夹子（没有瓷砖）和V轴上的瓷砖。
- _**Mirror**_。像包覆一样铺设纹理，但每次铺设都会翻转图像。
- **MirrorOnce（镜像一次）**。对纹理进行镜像，只铺设一次。
## Advanced高级模式
你也可以切换到高级模式，它可以让你用比简单模式更多的控制来调整个别元素。这需要你了解实时3D渲染技术背后的机制。一般来说，这些参数允许你调整[mipmap](https://www.zhihu.com/question/66993945)（延申阅读）的生成和用于插值的过滤方法选项。这些是可用的参数。

- _**Border Color。**_如果选择了适当的U/V/W模式，一个标准的颜色选择器用于定义纹理边界的颜色值。
- _**Address U, V, W。**_三个下拉列表，用来挑选U、V和W轴使用的平铺方法。这些方法与上面简单采样器中使用的相同，所以它们是Wrap（包裹）、Mirror（镜像）、Clamp（夹紧）、Border（边界）和Mirror Once（镜像）。
- _**MaxFilter。**_可用的选项与上面的简单采样器相似，有无、点、线性和各向异性。
- _**MinFilter（最小过滤器）**_。可用的选项与上面的简单采样器相似，它们是无、点、线性和各向异性。
- _**MipFilter**_。可用的选项与上面的简单采样器相似，也是无、点、线性和各向异性。
- _**Mipmap LOD Bias**_: 这个选项在MipMap级别之间转换。你可以在这里调整混合的情况。
- _**MaxAnisotropy（最大各向异性）**_。定义要使用的最大各向异性水平。
- _**MaxMipLevel**_: 定义要使用的最大MipLevel。如果一个纹理有8个MipMap级别，而你把这个值设置为4，它将混合到最大的4级，而忽略其他的。纹理仍然会被加载所有的MipMaps，因此你不会节省内存。
# Mapping映射
贴图属性组改变了纹理的哪些像素被应用到它所使用的三维物体的哪些部分。
在所有的贴图模式中，纹理可以通过使用对齐、位置、比例和旋转参数进行调整和正确放置。
贴图有几个选项可以选择。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763098756-cc56da8d-e5c6-477f-867f-0f1dd64d3c67.png" alt="Snipaste_2021-06-27_11-04-49.png" style="width:25%;" />

## Simple
简单贴图只是具有一个贴图预设列表，可以选择快速检查一些贴图方法--更深入的信息见下文。可用的有_**UV0、UV1、屏幕对齐、世界空间反射、相机空间反射、球形、简单****球形和UV扭曲**_。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763182073-0fab5cf0-414a-428e-b5ab-2a6091ddceb2.png" alt="Snipaste_2021-06-27_11-05-52.png" style="width:25%;" />

## 2D Mapping
二维贴图，以二维的方式贴出纹理，就像物体表面的投影仪。它对平坦的表面特别有用。请注意，如果纹理没有完全覆盖物体，那么纹理将根据采样属性组中的选项进行重复。
2D贴图有一些预设，可以选择使用不同的2D贴图方法，可用的有_**UV0、UV1、****屏幕对齐****和****UV扭曲**_。UV0和UV1使用几何体的定义的UV集，屏幕对齐将使UV坐标与屏幕对齐，不考虑几何体的变换。而UV扭曲将使用UV扭曲Material Stages的结果。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763267227-852d6c96-44e0-4e9b-875d-6279e5bfcd56.png" alt="Snipaste_2021-06-27_11-07-37.png" style="width:25%;" />

## 3D Mapping
3D映射，将纹理映射到三维空间中，因此可以在所有三个轴上操作纹理。请记住，如果纹理没有完全覆盖物体，纹理将根据上述类型参数中设置的选项重复。
三维贴图有一些预设，可以选择使用不同的三维贴图方法，可用的有模型空间位置、世界空间位置、世界空间反射、相机空间反射、球形和简单球形。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763418382-b3cfd97e-3a26-4ed1-9100-f932ec8e5f27.png" alt="Snipaste_2021-06-27_11-10-06.png" style="width:25%;" />

## Triplanar
TriPlanar将纹理渲染三次，每次都是从三条轴中的一条进行投影。然后根据每个多边形的方向在这些投影之间进行混合，这对有陡峭边的拓扑结构很好，但缺点是需要更多的计算，会影响性能。请记住，如果纹理没有完全覆盖物体，纹理将根据上述类型参数中设置的选项进行重复。角落的混合可以通过调整Sharpness来调整，这个值默认设置为（2）。值越高，混合就越清晰，值越低，混合就越柔和。
TriPlanar有两种不同的3D贴图方法，可用的是模型空间和世界空间。
## Projection（投影贴图）
投影贴图方法使用一个摄像机位置作为投影仪，将纹理投射到物体上。用下拉菜单定义摄像机，从场景中所有可用的摄像机列表中选择要用作投影仪的摄像机。
## 2D Strip Mapper
2D StripMapper是2D Mapping的一种专门形式，用于处理平铺的图像和纹理。图案可以通过可用的选项来调整。
TilesX/Y设置X轴或Y轴上的瓷砖数量，得到的图案会被缩放以匹配原始纹理的大小。值以整数表示。你可以减少纹理中没有被任何内容填充的部分的数量。Scaling（缩放）控制基本的瓦片缩放。用Index你可以选择要显示的模式中的瓦片。
## From Above
一个特殊的贴图模式是 "From Above"。这个贴图选项复制了前一个材质阶段中使用的贴图方法和设置。
# Destination Channels目标通道
目标通道定义了通道的每个值的去向。根据材料阶段，你可以选择所有颜色通道和Alpha通道的目的地。
<img src="https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763745040-24426103-abe9-45e0-8dc5-040f9a5315b6.png" alt="Snipaste_2021-06-27_11-15-36.png" style="width:25%;" />

- _**Target**_：这个下拉菜单让你设置RGB值的目标。
- _**Operation**_：一个下拉菜单，用来定义用于计算结果像素值的操作。
- _**Masking**_：在这里你可以屏蔽我们的纹理元素。可用的选项是关闭，Alpha使用Alphachannel，Mask1/2使用定义的Mask1/2（这是目标通道），而Texture Alpha使用来自纹理的alpha。而反转选项则是反转Mask。
##### 各通道的工作情况
![www_draw_io_diagramV5.3.0.png](https://cdn.nlark.com/yuque/0/2021/png/12794363/1624763920568-0d09015d-8f00-4913-8457-2dff58651c13.png)
